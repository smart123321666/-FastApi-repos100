# FastApi-100repos

Это приложение FastAPI предоставляет конечные точки для получения информации о репозиториях и их активности из базы данных PostgreSQL.

## Сборка и запуск контейнера
1. Установите Docker с официального сайта: [ссылка](https://www.docker.com/get-started)
2. Клонируйте репозиторий:
git clone https://github.com/smart123321666/FastApi-repos100.git

3. Перейдите в папку проекта:
cd repository

4. Выполните сборку образа с помощью команды:
docker build . -t myapp:latest

5. Запустите контейнер на основе созданного образа:
docker run -d -p 8000:8000 myapp

## Установка
1. Создайте виртуальное окружение для проекта, используя venv (встроенный модуль Python):
    python -m venv venv

2. Активируйте виртуальное окружение:
    source venv/Scripts/activate

3. Установите необходимые зависимости из файла `requirements.txt`:

    cd api
   
    pip install -r requirements.txt

5. Создать базу данных и записать базовые значения.
    в файле переменных окружения должны быть указаны значения
    DB_HOST=*
    DB_USER=*
    DB_PORT=*
    DB_PASSWORD=*
    DB_NAME=*
   
    python sql.py

7. Запустить проект.
    uvicorn main:app --reload

### Получить Топ 100 Репозиториев

- **URL:** `/api/repos/top100`
- **Метод:** GET
- **Параметры:**
  - `sort_by` (Query параметр): Поле для сортировки (по умолчанию: "stars")
  - `order` (Query параметр): Порядок сортировки ("asc" или "desc", по умолчанию: "desc")

#### Ответ:
Массив объектов, представляющих топ 100 репозиториев, включая название репозитория, владельца, позицию, звезды, наблюдателей, форки, открытые задачи и язык программирования.

### Получить Активность Репозитория

- **URL:** `/api/repos/{owner}/{repo}/activity`
- **Метод:** GET
- **Параметры:**
  - `owner` (Path параметр): Владелец репозитория
  - `repo` (Path параметр): Название репозитория
  - `since` (Query параметр): Начальная дата для активности
  - `until` (Query параметр): Конечная дата для активности

#### Ответ:
Массив объектов, представляющих активность указанного репозитория в указанном диапазоне дат, включая дату, коммиты и авторов.

## Обработка Ошибок

В случае возникновения ошибок при выполнении конечных точек, будут предоставлены соответствующие HTTP-статусы и детали ошибок в качестве ответа.

Рекомендуется обрабатывать подключение к базе данных и исключения правильным образом в производственной среде.

